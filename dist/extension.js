(()=>{"use strict";var e={125(e,t,n){function o(e,t){(function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");const n=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function a(e){return Math.min(1,Math.max(0,e))}function r(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function i(e){return Number(e)<=1?100*Number(e)+"%":e}function s(e){return 1===e.length?"0"+e:String(e)}function l(e,t,n){return{r:255*o(e,255),g:255*o(t,255),b:255*o(n,255)}}function c(e,t,n){e=o(e,255),t=o(t,255),n=o(n,255);const a=Math.max(e,t,n),r=Math.min(e,t,n);let i=0,s=0;const l=(a+r)/2;if(a===r)s=0,i=0;else{const o=a-r;switch(s=l>.5?o/(2-a-r):o/(a+r),a){case e:i=(t-n)/o+(t<n?6:0);break;case t:i=(n-e)/o+2;break;case n:i=(e-t)/o+4}i/=6}return{h:i,s,l}}function d(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function u(e,t,n){let a,r,i;if(e=o(e,360),t=o(t,100),n=o(n,100),0===t)r=n,i=n,a=n;else{const o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;a=d(s,o,e+1/3),r=d(s,o,e),i=d(s,o,e-1/3)}return{r:255*a,g:255*r,b:255*i}}function h(e,t,n){e=o(e,255),t=o(t,255),n=o(n,255);const a=Math.max(e,t,n),r=Math.min(e,t,n);let i=0;const s=a,l=a-r,c=0===a?0:l/a;if(a===r)i=0;else{switch(a){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:c,v:s}}function g(e,t,n){e=6*o(e,360),t=o(t,100),n=o(n,100);const a=Math.floor(e),r=e-a,i=n*(1-t),s=n*(1-r*t),l=n*(1-(1-r)*t),c=a%6;return{r:255*[n,s,i,i,l,n][c],g:255*[l,n,n,s,i,i][c],b:255*[i,i,l,n,n,s][c]}}function p(e,t,n,o){const a=[s(Math.round(e).toString(16)),s(Math.round(t).toString(16)),s(Math.round(n).toString(16))];return o&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function f(e,t,n,o,a){const r=[s(Math.round(e).toString(16)),s(Math.round(t).toString(16)),s(Math.round(n).toString(16)),s(x(o))];return a&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))&&r[3].startsWith(r[3].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function m(e,t,n,o){return[s(x(o)),s(Math.round(e).toString(16)),s(Math.round(t).toString(16)),s(Math.round(n).toString(16))].join("")}function v(e,t,n,o){const a=o/100;return{r:255*(1-e/100)*(1-a),g:255*(1-t/100)*(1-a),b:255*(1-n/100)*(1-a)}}function b(e,t,n){let o=1-e/255,a=1-t/255,r=1-n/255,i=Math.min(o,a,r);return 1===i?(o=0,a=0,r=0):(o=(o-i)/(1-i)*100,a=(a-i)/(1-i)*100,r=(r-i)/(1-i)*100),i*=100,{c:Math.round(o),m:Math.round(a),y:Math.round(r),k:Math.round(i)}}function x(e){return Math.round(255*parseFloat(e)).toString(16)}function w(e){return y(e)/255}function y(e){return parseInt(e,16)}function S(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}n.r(t),n.d(t,{TinyColor:()=>I,bounds:()=>N,cmykToRgb:()=>v,convertDecimalToHex:()=>x,convertHexToDecimal:()=>w,fromRatio:()=>z,hslToRgb:()=>u,hsvToRgb:()=>g,inputToRGB:()=>k,isReadable:()=>R,isValidCSSUnit:()=>L,legacyRandom:()=>$,mostReadable:()=>_,names:()=>M,numberInputToObject:()=>S,parseIntFromHex:()=>y,random:()=>j,readability:()=>T,rgbToCmyk:()=>b,rgbToHex:()=>p,rgbToHsl:()=>c,rgbToHsv:()=>h,rgbToRgb:()=>l,rgbaToArgbHex:()=>m,rgbaToHex:()=>f,stringInputToObject:()=>H,toMsFilter:()=>O});const M={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function k(e){let t={r:0,g:0,b:0},n=1,o=null,a=null,s=null,c=!1,d=!1;return"string"==typeof e&&(e=H(e)),"object"==typeof e&&(L(e.r)&&L(e.g)&&L(e.b)?(t=l(e.r,e.g,e.b),c=!0,d="%"===String(e.r).substr(-1)?"prgb":"rgb"):L(e.h)&&L(e.s)&&L(e.v)?(o=i(e.s),a=i(e.v),t=g(e.h,o,a),c=!0,d="hsv"):L(e.h)&&L(e.s)&&L(e.l)?(o=i(e.s),s=i(e.l),t=u(e.h,o,s),c=!0,d="hsl"):L(e.c)&&L(e.m)&&L(e.y)&&L(e.k)&&(t=v(e.c,e.m,e.y,e.k),c=!0,d="cmyk"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=r(n),{ok:c,format:e.format||d,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}const A="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",C="[\\s|\\(]+("+A+")[,|\\s]+("+A+")[,|\\s]+("+A+")\\s*\\)?",P="[\\s|\\(]+("+A+")[,|\\s]+("+A+")[,|\\s]+("+A+")[,|\\s]+("+A+")\\s*\\)?",E={CSS_UNIT:new RegExp(A),rgb:new RegExp("rgb"+C),rgba:new RegExp("rgba"+P),hsl:new RegExp("hsl"+C),hsla:new RegExp("hsla"+P),hsv:new RegExp("hsv"+C),hsva:new RegExp("hsva"+P),cmyk:new RegExp("cmyk"+P),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function H(e){if(0===(e=e.trim().toLowerCase()).length)return!1;let t=!1;if(M[e])e=M[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};let n=E.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=E.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=E.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=E.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=E.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=E.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=E.cmyk.exec(e),n?{c:n[1],m:n[2],y:n[3],k:n[4]}:(n=E.hex8.exec(e),n?{r:y(n[1]),g:y(n[2]),b:y(n[3]),a:w(n[4]),format:t?"name":"hex8"}:(n=E.hex6.exec(e),n?{r:y(n[1]),g:y(n[2]),b:y(n[3]),format:t?"name":"hex"}:(n=E.hex4.exec(e),n?{r:y(n[1]+n[1]),g:y(n[2]+n[2]),b:y(n[3]+n[3]),a:w(n[4]+n[4]),format:t?"name":"hex8"}:(n=E.hex3.exec(e),!!n&&{r:y(n[1]+n[1]),g:y(n[2]+n[2]),b:y(n[3]+n[3]),format:t?"name":"hex"}))))))))))}function L(e){return"number"==typeof e?!Number.isNaN(e):E.CSS_UNIT.test(e)}class I{constructor(e="",t={}){if(e instanceof I)return e;"number"==typeof e&&(e=S(e)),this.originalInput=e;const n=k(e);this.originalInput=e,this.r=n.r,this.g=n.g,this.b=n.b,this.a=n.a,this.roundA=Math.round(100*this.a)/100,this.format=t.format??n.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=n.ok}isDark(){return this.getBrightness()<128}isLight(){return!this.isDark()}getBrightness(){const e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3}getLuminance(){const e=this.toRgb();let t,n,o;const a=e.r/255,r=e.g/255,i=e.b/255;return t=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),n=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4),o=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),.2126*t+.7152*n+.0722*o}getAlpha(){return this.a}setAlpha(e){return this.a=r(e),this.roundA=Math.round(100*this.a)/100,this}isMonochrome(){const{s:e}=this.toHsl();return 0===e}toHsv(){const e=h(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}}toHsvString(){const e=h(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),o=Math.round(100*e.v);return 1===this.a?`hsv(${t}, ${n}%, ${o}%)`:`hsva(${t}, ${n}%, ${o}%, ${this.roundA})`}toHsl(){const e=c(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}}toHslString(){const e=c(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),o=Math.round(100*e.l);return 1===this.a?`hsl(${t}, ${n}%, ${o}%)`:`hsla(${t}, ${n}%, ${o}%, ${this.roundA})`}toHex(e=!1){return p(this.r,this.g,this.b,e)}toHexString(e=!1){return"#"+this.toHex(e)}toHex8(e=!1){return f(this.r,this.g,this.b,this.a,e)}toHex8String(e=!1){return"#"+this.toHex8(e)}toHexShortString(e=!1){return 1===this.a?this.toHexString(e):this.toHex8String(e)}toRgb(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}}toRgbString(){const e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?`rgb(${e}, ${t}, ${n})`:`rgba(${e}, ${t}, ${n}, ${this.roundA})`}toPercentageRgb(){const e=e=>`${Math.round(100*o(e,255))}%`;return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}}toPercentageRgbString(){const e=e=>Math.round(100*o(e,255));return 1===this.a?`rgb(${e(this.r)}%, ${e(this.g)}%, ${e(this.b)}%)`:`rgba(${e(this.r)}%, ${e(this.g)}%, ${e(this.b)}%, ${this.roundA})`}toCmyk(){return{...b(this.r,this.g,this.b)}}toCmykString(){const{c:e,m:t,y:n,k:o}=b(this.r,this.g,this.b);return`cmyk(${e}, ${t}, ${n}, ${o})`}toName(){if(0===this.a)return"transparent";if(this.a<1)return!1;const e="#"+p(this.r,this.g,this.b,!1);for(const[t,n]of Object.entries(M))if(e===n)return t;return!1}toString(e){const t=Boolean(e);e=e??this.format;let n=!1;const o=this.a<1&&this.a>=0;return t||!o||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),"cmyk"===e&&(n=this.toCmykString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()}toNumber(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)}clone(){return new I(this.toString())}lighten(e=10){const t=this.toHsl();return t.l+=e/100,t.l=a(t.l),new I(t)}brighten(e=10){const t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-e/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-e/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-e/100*255))),new I(t)}darken(e=10){const t=this.toHsl();return t.l-=e/100,t.l=a(t.l),new I(t)}tint(e=10){return this.mix("white",e)}shade(e=10){return this.mix("black",e)}desaturate(e=10){const t=this.toHsl();return t.s-=e/100,t.s=a(t.s),new I(t)}saturate(e=10){const t=this.toHsl();return t.s+=e/100,t.s=a(t.s),new I(t)}greyscale(){return this.desaturate(100)}spin(e){const t=this.toHsl(),n=(t.h+e)%360;return t.h=n<0?360+n:n,new I(t)}mix(e,t=50){const n=this.toRgb(),o=new I(e).toRgb(),a=t/100,r={r:(o.r-n.r)*a+n.r,g:(o.g-n.g)*a+n.g,b:(o.b-n.b)*a+n.b,a:(o.a-n.a)*a+n.a};return new I(r)}analogous(e=6,t=30){const n=this.toHsl(),o=360/t,a=[this];for(n.h=(n.h-(o*e>>1)+720)%360;--e;)n.h=(n.h+o)%360,a.push(new I(n));return a}complement(){const e=this.toHsl();return e.h=(e.h+180)%360,new I(e)}monochromatic(e=6){const t=this.toHsv(),{h:n}=t,{s:o}=t;let{v:a}=t;const r=[],i=1/e;for(;e--;)r.push(new I({h:n,s:o,v:a})),a=(a+i)%1;return r}splitcomplement(){const e=this.toHsl(),{h:t}=e;return[this,new I({h:(t+72)%360,s:e.s,l:e.l}),new I({h:(t+216)%360,s:e.s,l:e.l})]}onBackground(e){const t=this.toRgb(),n=new I(e).toRgb(),o=t.a+n.a*(1-t.a);return new I({r:(t.r*t.a+n.r*n.a*(1-t.a))/o,g:(t.g*t.a+n.g*n.a*(1-t.a))/o,b:(t.b*t.a+n.b*n.a*(1-t.a))/o,a:o})}triad(){return this.polyad(3)}tetrad(){return this.polyad(4)}polyad(e){const t=this.toHsl(),{h:n}=t,o=[this],a=360/e;for(let r=1;r<e;r++)o.push(new I({h:(n+r*a)%360,s:t.s,l:t.l}));return o}equals(e){const t=new I(e);return"cmyk"===this.format||"cmyk"===t.format?this.toCmykString()===t.toCmykString():this.toRgbString()===t.toRgbString()}}function T(e,t){const n=new I(e),o=new I(t);return(Math.max(n.getLuminance(),o.getLuminance())+.05)/(Math.min(n.getLuminance(),o.getLuminance())+.05)}function R(e,t,n={level:"AA",size:"small"}){const o=T(e,t);switch((n.level??"AA")+(n.size??"small")){case"AAsmall":case"AAAlarge":return o>=4.5;case"AAlarge":return o>=3;case"AAAsmall":return o>=7;default:return!1}}function _(e,t,n={includeFallbackColors:!1,level:"AA",size:"small"}){let o=null,a=0;const{includeFallbackColors:r,level:i,size:s}=n;for(const n of t){const t=T(e,n);t>a&&(a=t,o=new I(n))}return R(e,o,{level:i,size:s})||!r?o:(n.includeFallbackColors=!1,_(e,["#fff","#000"],n))}function O(e,t){const n=new I(e),o="#"+m(n.r,n.g,n.b,n.a);let a=o;const r=n.gradientType?"GradientType = 1, ":"";if(t){const e=new I(t);a="#"+m(e.r,e.g,e.b,e.a)}return`progid:DXImageTransform.Microsoft.gradient(${r}startColorstr=${o},endColorstr=${a})`}function z(e,t){const n={r:i(e.r),g:i(e.g),b:i(e.b)};return void 0!==e.a&&(n.a=Number(e.a)),new I(n,t)}function $(){return new I({r:Math.random(),g:Math.random(),b:Math.random()})}function j(e={}){if(void 0!==e.count&&null!==e.count){const t=e.count,n=[];for(e.count=void 0;t>n.length;)e.count=null,e.seed&&(e.seed+=1),n.push(j(e));return e.count=t,n}const t=function(e,t){let n=D(function(e){const t=parseInt(e,10);if(!Number.isNaN(t)&&t<360&&t>0)return[t,t];if("string"==typeof e){const t=N.find(t=>t.name===e);if(t){const e=F(t);if(e.hueRange)return e.hueRange}const n=new I(e);if(n.isValid){const e=n.toHsv().h;return[e,e]}}return[0,360]}(e),t);return n<0&&(n=360+n),n}(e.hue,e.seed),n=function(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return D([0,100],t.seed);const{saturationRange:n}=B(e);let o=n[0],a=n[1];switch(t.luminosity){case"bright":o=55;break;case"dark":o=a-10;break;case"light":a=55}return D([o,a],t.seed)}(t,e),o=function(e,t,n){let o=function(e,t){const{lowerBounds:n}=B(e);for(let e=0;e<n.length-1;e++){const o=n[e][0],a=n[e][1],r=n[e+1][0],i=n[e+1][1];if(t>=o&&t<=r){const e=(i-a)/(r-o);return e*t+(a-e*o)}}return 0}(e,t),a=100;switch(n.luminosity){case"dark":a=o+20;break;case"light":o=(a+o)/2;break;case"random":o=0,a=100}return D([o,a],n.seed)}(t,n,e),a={h:t,s:n,v:o};return void 0!==e.alpha&&(a.a=e.alpha),new I(a)}function B(e){e>=334&&e<=360&&(e-=360);for(const t of N){const n=F(t);if(n.hueRange&&e>=n.hueRange[0]&&e<=n.hueRange[1])return n}throw Error("Color not found")}function D(e,t){if(void 0===t)return Math.floor(e[0]+Math.random()*(e[1]+1-e[0]));const n=e[1]||1,o=e[0]||0,a=(t=(9301*t+49297)%233280)/233280;return Math.floor(o+a*(n-o))}function F(e){const t=e.lowerBounds[0][0],n=e.lowerBounds[e.lowerBounds.length-1][0],o=e.lowerBounds[e.lowerBounds.length-1][1],a=e.lowerBounds[0][1];return{name:e.name,hueRange:e.hueRange,lowerBounds:e.lowerBounds,saturationRange:[t,n],brightnessRange:[o,a]}}const N=[{name:"monochrome",hueRange:null,lowerBounds:[[0,0],[100,0]]},{name:"red",hueRange:[-26,18],lowerBounds:[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]},{name:"orange",hueRange:[19,46],lowerBounds:[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]},{name:"yellow",hueRange:[47,62],lowerBounds:[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]},{name:"green",hueRange:[63,178],lowerBounds:[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]},{name:"blue",hueRange:[179,257],lowerBounds:[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]},{name:"purple",hueRange:[258,282],lowerBounds:[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]},{name:"pink",hueRange:[283,334],lowerBounds:[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]}]},232(e,t,n){var o,a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,a)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(o=function(e){return o=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},o(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=o(e),i=0;i<n.length;i++)"default"!==n[i]&&a(t,e,n[i]);return r(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.LuminaPanel=void 0;const s=i(n(398)),l=n(713),c=n(736),d=n(244),u=n(672),h=n(517),g=!0,p={dropTitle:"Extraer desde Imagen",dropDesc:"Arrastra una imagen o <b>clic para buscar</b>",sectionBase:"COLORES BASE",sectionAI:"IA ARCHITECT",sectionExport:"EXPORTAR CÓDIGO",sectionSaved:"PALETAS GUARDADAS",placeholderHex:"#Hex",btnGenerate:"Generar Paleta",btnAI:"Generar con IA",placeholderAI:"Ej: Cafetería oscura, Cyberpunk neon...",descAI:"Describe tu proyecto:",msgGenerate:"Genera una paleta para ver resultados",msgProcessing:"Procesando imagen...",msgError:"Error: Solo archivos de imagen",msgCopied:"¡Código copiado!",msgSaved:"¡Paleta guardada!"};t.LuminaPanel=class{_context;static viewType="luminaCode.sidebarView";_view;_aiService;_colorMath;_exportService;_storageService;_lang=p;constructor(e){this._context=e,this._aiService=new c.AIService,this._colorMath=new d.ColorMath,this._exportService=new u.ExportService,this._storageService=new h.StorageService(e.globalState)}resolveWebviewView(e,t,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._context.extensionUri,s.Uri.joinPath(this._context.extensionUri,"out"),s.Uri.joinPath(this._context.extensionUri,"media"),s.Uri.joinPath(this._context.extensionUri,"node_modules")]},e.webview.html=this._getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage(async t=>{"refreshSaved"===t.command&&this.sendSavedPalettes(e);let n=[];if("generateAI"===t.command?n=this._aiService.generatePalette(t.text):"generateManual"===t.command&&(n=this._aiService.generateMixed(t.colors)),n.length>0){const t=this._colorMath.analyzePalette(n);e.webview.postMessage({command:"showResults",data:t})}if("restorePalette"===t.command){const n=this._colorMath.analyzePalette(t.colors);e.webview.postMessage({command:"showResults",data:n})}if("requestPreview"===t.command){const n=this._exportService.generateCode(t.colors,t.format);e.webview.postMessage({command:"updatePreview",code:n})}if("savePalette"===t.command){const n=this._storageService.savePalette({id:Date.now().toString(),name:t.name||"Mi Paleta",colors:t.colors,date:Date.now()},g);n.success?(s.window.showInformationMessage("Paleta guardada."),this.sendSavedPalettes(e)):s.window.showErrorMessage(n.error||"Error al guardar")}"deletePalette"===t.command&&(this._storageService.deletePalette(t.id),this.sendSavedPalettes(e)),"notify"===t.command&&s.window.showInformationMessage(t.text)})}sendSavedPalettes(e){const t=this._storageService.getPalettes();e.webview.postMessage({command:"updateSaved",palettes:t,isPro:g})}_getHtmlForWebview(e){const t=(0,l.getUri)(e,this._context.extensionUri,["node_modules","@vscode","webview-ui-toolkit","dist","toolkit.js"]),n=(0,l.getUri)(e,this._context.extensionUri,["node_modules","colorthief","dist","color-thief.mjs"]),o=this._lang;return`\n      <!DOCTYPE html>\n      <html lang="es">\n      <head>\n        <meta charset="UTF-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <script type="module" src="${t}"><\/script>\n        <style>\n          body { padding: 15px; display: flex; flex-direction: column; gap: 20px; font-family: var(--vscode-font-family); }\n          \n          /* --- MODO DIOS DEL DRAG & DROP --- */\n          /* Cuando 'dragging-over' está activo, TODO lo que no sea el cuerpo es intangible */\n          /* Esto fuerza a que el drop ocurra siempre en el 'body', sin que los hijos interfieran */\n          body.dragging-over * { pointer-events: none !important; }\n          \n          body.dragging-over {\n              background-color: var(--vscode-editor-selectionBackground);\n              outline: 2px dashed var(--vscode-focusBorder);\n              outline-offset: -5px;\n          }\n          \n          .section-title { font-size: 11px; font-weight: bold; text-transform: uppercase; opacity: 0.8; margin-bottom: 8px; }\n          .premium-badge { background: linear-gradient(90deg, #ff00cc, #333399); color: white; padding: 2px 6px; border-radius: 4px; font-size: 9px; margin-left: 5px; }\n          \n          .color-row { display: flex; gap: 8px; align-items: center; margin-bottom: 8px; }\n          .picker-input { width: 28px; height: 28px; border: none; background: transparent; cursor: pointer; padding: 0; }\n          \n          /* DROP ZONE */\n          #drop-zone-container { position: relative; }\n          #drop-zone { \n            border: 2px dashed var(--vscode-input-border); \n            border-radius: 8px; \n            min-height: 120px; \n            display: flex; flex-direction: column; justify-content: center; align-items: center; \n            gap: 10px; color: var(--vscode-descriptionForeground); background: var(--vscode-editor-background); \n            position: relative; cursor: pointer; transition: all 0.2s ease;\n          }\n          \n          /* Los hijos no capturan eventos por defecto para evitar parpadeos */\n          #drop-zone * { pointer-events: none; }\n          \n          #drop-zone:hover { background: var(--vscode-input-background); border-color: var(--vscode-focusBorder); }\n          #preview-img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0.3; display: none; z-index: 0; border-radius: 6px; }\n          #drop-zone.has-image .drop-content { z-index: 5; background: rgba(0,0,0,0.6); padding: 8px 15px; border-radius: 20px; backdrop-filter: blur(4px); position: relative; }\n\n          /* UTILS */\n          .icon-slot { display: flex; align-items: center; justify-content: center; }\n          .icon-slot svg { width: 16px; height: 16px; }\n\n          /* RESULTADOS */\n          #score-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; display: none; }\n          .score-circle { width: 30px; height: 30px; border-radius: 50%; background: var(--vscode-editor-selectionBackground); display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 12px; border: 2px solid var(--vscode-focusBorder); }\n          #colors-container { display: flex; flex-direction: column; gap: 8px; margin-top: 5px; }\n          .color-card { border-radius: 6px; overflow: hidden; border: 1px solid var(--vscode-widget-border); display: flex; flex-direction: column; }\n          .color-visual { height: 40px; display: flex; align-items: center; justify-content: space-between; padding: 0 12px; cursor: pointer; font-family: monospace; font-size: 13px; font-weight: 600; }\n          .color-info { padding: 6px 10px; background: var(--vscode-editor-background); display: flex; justify-content: space-between; align-items: center; font-size: 10px; opacity: 0.9; }\n          .badge { padding: 1px 5px; border-radius: 3px; font-weight: bold; }\n          .badge-AAA { background: #2da042; color: white; } .badge-AA { background: #d29922; color: black; } .badge-Fail { background: #f85149; color: white; }\n\n          /* EXPORTAR */\n          #export-section { display: none; margin-top: 10px; }\n          .code-preview-container { position: relative; margin-top: 8px; }\n          #code-output { width: 100%; font-family: monospace; font-size: 11px; }\n          .copy-btn-absolute { position: absolute; top: 5px; right: 5px; z-index: 10; }\n\n          /* GUARDADOS */\n          #saved-section { margin-top: 20px; border-top: 1px solid var(--vscode-widget-border); padding-top: 15px; }\n          .saved-item { display: flex; align-items: center; justify-content: space-between; padding: 8px; border: 1px solid var(--vscode-widget-border); margin-bottom: 5px; border-radius: 4px; background: var(--vscode-editor-background); }\n          .saved-mini-colors { display: flex; gap: 2px; }\n          .mini-box { width: 12px; height: 12px; border-radius: 2px; }\n          .saved-actions { display: flex; gap: 5px; }\n        </style>\n      </head>\n      <body>\n        \n        <div>\n            <div class="section-title">${o.dropTitle} <span class="premium-badge">PRO</span></div>\n            <div id="drop-zone-container">\n                <input type="file" id="hidden-file-input" accept="image/*" style="display: none;">\n                <div id="drop-zone">\n                    <img id="preview-img" />\n                    <div class="drop-content" style="text-align: center;">\n                        <span class="icon-slot" style="margin-bottom:5px;"><svg width="24" height="24" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8.45 2h-.9L4 5.5l.72.69L7.5 3.46V11h1V3.46l2.77 2.73.73-.69L8.45 2z"/><path d="M12.23 6.26A4.1 4.1 0 0 0 8.5 4a4.11 4.11 0 0 0-3.9 2.78C2.55 7 1 8.58 1 10.5c0 2.21 1.79 4 4 4h7c1.93 0 3.5-1.57 3.5-3.5S14.16 6.55 12.23 6.26zM12 13.5H5c-1.65 0-3-1.35-3-3s1.35-3 3-3c.23 0 .46.03.68.09L6 7.78V8h1v-.93l.3-.06A3.1 3.1 0 0 1 10.38 5a3.07 3.07 0 0 1 2.87 2.22l.25 1.02h1.01c1.38 0 2.5 1.12 2.5 2.5S15.88 13.5 14.5 13.5H12z"/></svg></span>\n                        <p id="drop-text" style="margin: 0; font-size: 11px;">${o.dropDesc}</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <vscode-divider></vscode-divider>\n\n        <div>\n          <div class="section-title">${o.sectionBase}</div>\n          <div class="color-row"><vscode-text-field id="hex-1" placeholder="${o.placeholderHex}" value="#007acc" style="flex:1;">P</vscode-text-field><input type="color" id="picker-1" class="picker-input" value="#007acc"></div>\n          <div class="color-row"><vscode-text-field id="hex-2" placeholder="${o.placeholderHex} (Op)" style="flex:1;">S</vscode-text-field><input type="color" id="picker-2" class="picker-input" value="#ffffff"></div>\n          <div class="color-row"><vscode-text-field id="hex-3" placeholder="${o.placeholderHex} (Op)" style="flex:1;">T</vscode-text-field><input type="color" id="picker-3" class="picker-input" value="#ffffff"></div>\n          <vscode-button id="btn-manual" appearance="primary" style="width: 100%">\n             ${o.btnGenerate}\n             <span slot="start" class="icon-slot"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M12.5 1h-9C2.12 1 1 2.12 1 3.5v9C1 13.88 2.12 15 3.5 15h9c1.38 0 2.5-1.12 2.5-2.5v-9C15 2.12 13.88 1 12.5 1zm-9 1C2.95 2 2.5 2.45 2.5 3s.45 1 1 1 1-.45 1-1-.45-1-1-1zm9 12h-9C2.95 14 2.5 13.55 2.5 13V6h11v7c0 .55-.45 1-1 1z"/></svg></span>\n          </vscode-button>\n        </div>\n        <vscode-divider></vscode-divider>\n\n        <div>\n          <div class="section-title">${o.sectionAI} <span class="premium-badge">PRO</span></div>\n          <vscode-text-area id="input-ai" resize="vertical" placeholder="${o.placeholderAI}" style="width: 100%; margin-bottom: 10px;"></vscode-text-area>\n          <vscode-button id="btn-ai" appearance="secondary" style="width: 100%">\n             ${o.btnAI}\n             <span slot="start" class="icon-slot"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M7.5 2L8 4l2 .5L8 5l-.5 2L7 5l-2-.5L7 4l.5-2zm6 7l.5 1.5 1.5.5-1.5.5-.5 1.5-.5-1.5-1.5-.5 1.5-.5.5-1.5zM3.5 9L4 11l2 .5L4 12l-.5 2L3 12l-2-.5L3 11l.5-2z"/></svg></span>\n          </vscode-button>\n        </div>\n        <vscode-divider></vscode-divider>\n\n        <div>\n           <div id="score-header">\n              <div class="section-title" style="margin:0">RESULTADOS</div>\n              <div style="display:flex; align-items:center; gap:5px;">\n                  <span style="font-size:10px; opacity:0.7">Score:</span>\n                  <div id="global-score" class="score-circle">--</div>\n                  <vscode-button id="btn-save" appearance="secondary" style="margin-left: 10px; padding: 3px 8px;">\n                      Guardar <span slot="start" class="icon-slot"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M13.85 2.15l-1-1A.49.49 0 0 0 12.5 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2.5a.49.49 0 0 0-.15-.35zM3 2h8v3H3V2zm9 12H4v-5h8v5zm2-6h-1v-1a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v1H2V3h.29L3 3.71V6h8V3.71L11.71 3H14v5z"/></svg></span>\n                  </vscode-button>\n              </div>\n           </div>\n           \n           <div id="colors-container">\n              <p style="opacity: 0.5; font-size: 12px; text-align: center; padding: 20px;">${o.msgGenerate}</p>\n           </div>\n        </div>\n\n        <div id="export-section">\n            <vscode-divider></vscode-divider>\n            <div class="section-title" style="margin-top: 15px;">${o.sectionExport}</div>\n            <vscode-dropdown id="export-format" style="width: 100%;">\n                <vscode-option value="css">CSS Variables</vscode-option>\n                <vscode-option value="tailwind">Tailwind Config</vscode-option>\n                <vscode-option value="scss">SCSS Variables</vscode-option>\n                <vscode-option value="json">JSON</vscode-option>\n            </vscode-dropdown>\n            <div class="code-preview-container">\n                <vscode-button id="btn-copy-preview" class="copy-btn-absolute" appearance="icon">\n                    <span class="icon-slot"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M4 4l.35-.35.35.35H5v11h8V4h.29l.36-.35.35.35V15a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4zm2-2l.35-.35.36.35H10v1H6V2zm-1 0h-1v2H3V2.5A1.5 1.5 0 0 1 4.5 1h7A1.5 1.5 0 0 1 13 2.5V4h-1V2H8v1h-.35l-.36-.35-.35.35H6z"/></svg></span>\n                </vscode-button>\n                <vscode-text-area id="code-output" resize="vertical" rows="8" readonly></vscode-text-area>\n            </div>\n        </div>\n\n        <div id="saved-section">\n            <div class="section-title" style="display:flex; justify-content:space-between;">\n                ${o.sectionSaved}\n                <span id="limit-indicator" style="font-size: 9px; opacity: 0.6;"></span>\n            </div>\n            <div id="saved-list">\n                <p style="font-size:11px; opacity:0.5;">No hay paletas guardadas.</p>\n            </div>\n        </div>\n\n        <script type="module">\n            import ColorThief from "${n}";\n            const vscode = acquireVsCodeApi();\n            const colorThief = new ColorThief();\n            let currentColors = [];\n\n            window.addEventListener('load', () => { vscode.postMessage({ command: 'refreshSaved' }); });\n\n            // --- DRAG & DROP NUCLEAR V2 (MODO DIOS) ---\n            \n            // 1. Listeners Globales para el Documento\n            // Cuando algo se arrastra sobre la ventana, activamos la clase CSS\n            document.addEventListener('dragenter', (e) => {\n                e.preventDefault(); e.stopPropagation();\n                document.body.classList.add('dragging-over');\n            });\n\n            document.addEventListener('dragover', (e) => {\n                e.preventDefault(); e.stopPropagation();\n                document.body.classList.add('dragging-over');\n            });\n\n            document.addEventListener('dragleave', (e) => {\n                e.preventDefault(); e.stopPropagation();\n                // Solo quitamos la clase si el mouse sale realmente de la ventana\n                if (e.clientX === 0 && e.clientY === 0) {\n                     document.body.classList.remove('dragging-over');\n                }\n            });\n\n            // 2. Listener de DROP Global (Atrapa TODO)\n            document.addEventListener('drop', (e) => {\n                e.preventDefault(); \n                e.stopPropagation(); \n                document.body.classList.remove('dragging-over'); // Apagamos highlight\n\n                const files = e.dataTransfer.files;\n                if (files && files.length > 0) {\n                    processFile(files[0]);\n                }\n            });\n\n            // --- CLICK MANUAL EN ZONA VISUAL ---\n            const dropZone = document.getElementById('drop-zone');\n            const hiddenInput = document.getElementById('hidden-file-input');\n            const imgPreview = document.getElementById('preview-img');\n            const dropText = document.getElementById('drop-text');\n\n            dropZone.addEventListener('click', () => hiddenInput.click());\n            hiddenInput.addEventListener('change', (e) => processFile(e.target.files[0]));\n\n            // PROCESAMIENTO\n            function processFile(file) {\n                if(!file || !file.type.startsWith('image/')) return;\n                \n                dropText.innerHTML = "${o.msgProcessing}"; // Feedback\n                dropZone.classList.add('has-image');\n                \n                const reader = new FileReader();\n                reader.onload = (e) => {\n                    imgPreview.src = e.target.result;\n                    imgPreview.style.display = 'block';\n                    imgPreview.onload = () => {\n                        try {\n                            const p = colorThief.getPalette(imgPreview, 3);\n                            if(p) {\n                                if(p[0]) updateInput('hex-1', 'picker-1', rgbToHex(p[0]));\n                                if(p[1]) updateInput('hex-2', 'picker-2', rgbToHex(p[1]));\n                                if(p[2]) updateInput('hex-3', 'picker-3', rgbToHex(p[2]));\n                                triggerManual();\n                                dropText.innerHTML = "¡Listo!";\n                            }\n                        } catch(err) { console.error(err); }\n                    };\n                };\n                reader.readAsDataURL(file);\n            }\n\n            // SYNC\n            function updateInput(hId, pId, val) {\n                document.getElementById(hId).value = val;\n                document.getElementById(pId).value = val;\n            }\n            const rgbToHex = ([r, g, b]) => "#" + [r, g, b].map(x => {\n                const hex = x.toString(16);\n                return hex.length === 1 ? '0' + hex : hex;\n            }).join('');\n            function setupSync(hId, pId) {\n                const h = document.getElementById(hId), p = document.getElementById(pId);\n                p.addEventListener('input', e => h.value = e.target.value);\n                h.addEventListener('input', e => { if(/^#[0-9A-F]{6}$/i.test(e.target.value)) p.value = e.target.value; });\n                h.addEventListener('keydown', e => { if(e.key === 'Enter') triggerManual(); });\n            }\n            setupSync('hex-1','picker-1'); setupSync('hex-2','picker-2'); setupSync('hex-3','picker-3');\n\n            function triggerManual() {\n                const c = ['hex-1','hex-2','hex-3'].map(id => document.getElementById(id).value).filter(v => v);\n                vscode.postMessage({ command: 'generateManual', colors: c });\n            }\n            document.getElementById('btn-manual').addEventListener('click', triggerManual);\n            document.getElementById('btn-ai').addEventListener('click', () => {\n                vscode.postMessage({ command: 'generateAI', text: document.getElementById('input-ai').value });\n            });\n\n            // EXPORT & SAVE\n            const exportDropdown = document.getElementById('export-format');\n            const codeOutput = document.getElementById('code-output');\n            exportDropdown.addEventListener('change', () => { if (currentColors.length > 0) requestPreview(); });\n            function requestPreview() {\n                vscode.postMessage({ command: 'requestPreview', colors: currentColors, format: exportDropdown.value });\n            }\n            document.getElementById('btn-copy-preview').addEventListener('click', () => {\n                const code = codeOutput.value;\n                if(code) { navigator.clipboard.writeText(code); vscode.postMessage({ command: 'notify', text: '${o.msgCopied}' }); }\n            });\n            document.getElementById('btn-save').addEventListener('click', () => {\n                if(currentColors.length === 0) return;\n                const name = document.getElementById('input-ai').value || "Paleta Personalizada";\n                vscode.postMessage({ command: 'savePalette', colors: currentColors, name: name });\n            });\n            \n            function loadPalette(colors) {\n                if(colors[0]) updateInput('hex-1', 'picker-1', colors[0]);\n                if(colors[1]) updateInput('hex-2', 'picker-2', colors[1]);\n                if(colors[2]) updateInput('hex-3', 'picker-3', colors[2]);\n                vscode.postMessage({ command: 'restorePalette', colors: colors });\n                window.scrollTo({ top: 0, behavior: 'smooth' });\n            }\n\n            // MESSAGE HANDLER\n            window.addEventListener('message', event => {\n                const m = event.data;\n                if (m.command === "showResults") {\n                    const { metrics, globalScore } = m.data;\n                    currentColors = metrics.map(x => x.hex);\n                    document.getElementById('score-header').style.display = 'flex';\n                    document.getElementById('export-section').style.display = 'block';\n                    \n                    const scoreCircle = document.getElementById('global-score');\n                    scoreCircle.textContent = globalScore;\n                    scoreCircle.style.color = globalScore > 70 ? '#4caf50' : (globalScore > 40 ? '#ff9800' : '#f44336');\n                    scoreCircle.style.borderColor = scoreCircle.style.color;\n\n                    const container = document.getElementById('colors-container');\n                    container.innerHTML = '';\n                    metrics.forEach(item => {\n                        const card = document.createElement('div');\n                        card.className = 'color-card';\n                        \n                        const visual = document.createElement('div');\n                        visual.className = 'color-visual';\n                        visual.style.backgroundColor = item.hex;\n                        visual.style.color = item.bestText;\n                        visual.innerHTML = '<span>' + item.hex + '</span>';\n                        visual.addEventListener('click', () => {\n                             navigator.clipboard.writeText(item.hex);\n                             vscode.postMessage({ command: 'notify', text: 'Color ' + item.hex + ' copiado' });\n                        });\n                        \n                        const badgeClass = item.rating.includes('AA') ? (item.rating === 'AAA' ? 'badge-AAA' : 'badge-AA') : 'badge-Fail';\n                        const info = document.createElement('div');\n                        info.className = 'color-info';\n                        info.innerHTML = \`<span>Contrast: <strong>\${item.contrast}:1</strong></span><span class="badge \${badgeClass}">\${item.rating}</span>\`;\n                        card.appendChild(visual); card.appendChild(info); container.appendChild(card);\n                    });\n                    requestPreview();\n                }\n                \n                if (m.command === "updatePreview") { codeOutput.value = m.code; }\n\n                if (m.command === "updateSaved") {\n                    const list = document.getElementById('saved-list');\n                    const indicator = document.getElementById('limit-indicator');\n                    list.innerHTML = '';\n                    if (m.isPro) {\n                        indicator.textContent = "PRO ILIMITADO"; indicator.style.color = "#ff00cc";\n                    } else {\n                        indicator.textContent = \`\${m.palettes.length} / 5 SLOTS (FREE)\`;\n                        indicator.style.color = m.palettes.length >= 5 ? "#f44336" : "inherit";\n                    }\n                    if (m.palettes.length === 0) {\n                        list.innerHTML = '<p style="font-size:11px; opacity:0.5;">No hay paletas guardadas.</p>';\n                        return;\n                    }\n                    m.palettes.forEach(p => {\n                        const item = document.createElement('div');\n                        item.className = 'saved-item';\n                        let colorStrip = '';\n                        p.colors.slice(0, 5).forEach(c => { colorStrip += \`<div class="mini-box" style="background:\${c}"></div>\`; });\n                        item.innerHTML = \`<div style="flex:1"><div style="font-size:11px; font-weight:bold; margin-bottom:3px;">\${p.name}</div><div class="saved-mini-colors">\${colorStrip}</div></div>\`;\n                        const actions = document.createElement('div');\n                        actions.className = 'saved-actions';\n                        \n                        const btnLoad = document.createElement('vscode-button');\n                        btnLoad.appearance = 'icon'; \n                        btnLoad.innerHTML = '<span class="icon-slot"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8.45 11h-.9L4 7.5l.72-.69L7.5 9.54V2h1v7.54l2.77-2.73.73.69L8.45 11z"/><path d="M12.23 6.26A4.1 4.1 0 0 0 8.5 4a4.11 4.11 0 0 0-3.9 2.78C2.55 7 1 8.58 1 10.5c0 2.21 1.79 4 4 4h7c1.93 0 3.5-1.57 3.5-3.5S14.16 6.55 12.23 6.26zM12 13.5H5c-1.65 0-3-1.35-3-3s1.35-3 3-3c.23 0 .46.03.68.09L6 7.78V8h1v-.93l.3-.06A3.1 3.1 0 0 1 10.38 5a3.07 3.07 0 0 1 2.87 2.22l.25 1.02h1.01c1.38 0 2.5 1.12 2.5 2.5S15.88 13.5 14.5 13.5H12z"/></svg></span>';\n                        btnLoad.addEventListener('click', () => loadPalette(p.colors));\n\n                        const btnDel = document.createElement('vscode-button');\n                        btnDel.appearance = 'icon'; \n                        btnDel.innerHTML = '<span class="icon-slot"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M11 2H9c0-.55-.45-1-1-1H8c-.55 0-1 .45-1 1H5c-.55 0-1 .45-1 1v1H3v1h1v9a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V5h1V4h-1V3c0-.55-.45-1-1-1zM8 2h.5l.5.5v.5H7v-.5l.5-.5H8zm3 12H5V5h6v9z"/></svg></span>';\n                        btnDel.addEventListener('click', () => { vscode.postMessage({ command: 'deletePalette', id: p.id }); });\n                        \n                        actions.appendChild(btnLoad); actions.appendChild(btnDel); item.appendChild(actions); list.appendChild(item);\n                    });\n                }\n            });\n        <\/script>\n      </body>\n      </html>\n    `}}},244(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorMath=void 0;const o=n(125);t.ColorMath=class{analyzePalette(e){const t=e.map(e=>this.analyzeColor(e)),n=t.reduce((e,t)=>e+t.score,0);return{metrics:t,globalScore:Math.round(n/t.length)}}analyzeColor(e){const t=new o.TinyColor(e),n=(0,o.readability)(t,"#ffffff"),a=(0,o.readability)(t,"#000000"),r=n>a?"#ffffff":"#000000",i=Math.max(n,a);let s="Fail",l=50;return i>=7?(s="AAA",l=100):i>=4.5?(s="AA",l=85):i>=3?(s="AA+",l=70):l=40,{hex:e,bestText:r,contrast:parseFloat(i.toFixed(2)),rating:s,score:l}}}},265(e,t,n){var o,a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,a)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(o=function(e){return o=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},o(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=o(e),i=0;i<n.length;i++)"default"!==n[i]&&a(t,e,n[i]);return r(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.activate=function(e){const t=new l.LuminaPanel(e);e.subscriptions.push(s.window.registerWebviewViewProvider(l.LuminaPanel.viewType,t))},t.deactivate=function(){};const s=i(n(398)),l=n(232)},398(e){e.exports=require("vscode")},517(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.StorageService=void 0;class n{_storage;static KEY="lumina_saved_palettes";constructor(e){this._storage=e}getPalettes(){return this._storage.get(n.KEY,[])}savePalette(e,t){const o=this.getPalettes();if(!t&&o.length>=5)return{success:!1,error:"Limite gratuito alcanzado (5/5). Actualiza a Pro para guardar más paletas."};const a=[e,...o];return this._storage.update(n.KEY,a),{success:!0}}deletePalette(e){const t=this.getPalettes().filter(t=>t.id!==e);return this._storage.update(n.KEY,t),t}}t.StorageService=n},672(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ExportService=void 0,t.ExportService=class{generateCode(e,t){switch(t){case"css":default:return this.toCSS(e);case"scss":return this.toSCSS(e);case"tailwind":return this.toTailwind(e);case"json":return JSON.stringify(e,null,2)}}toCSS(e){return":root {\n"+e.map((e,t)=>`  --color-${t+1}: ${e};`).join("\n")+"\n}"}toSCSS(e){return e.map((e,t)=>`$color-${t+1}: ${e};`).join("\n")}toTailwind(e){return"module.exports = {\n  theme: {\n    extend: {\n      colors: {\n"+e.map((e,t)=>`        'brand-${t+1}': '${e}',`).join("\n")+"\n      }\n    }\n  }\n}"}}},713(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getUri=function(e,t,n){return e.asWebviewUri(o.Uri.joinPath(t,...n))};const o=n(398)},736(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AIService=void 0;const o=n(125),a={rojo:[340,10],red:[340,10],carmesí:[330,350],granate:[340,360],naranja:[15,40],orange:[15,40],coral:[5,25],amarillo:[45,65],yellow:[45,65],dorado:[40,55],oro:[40,55],verde:[80,150],green:[80,150],lima:[70,90],oliva:[60,80],cian:[170,190],cyan:[170,190],turquesa:[160,180],teal:[160,180],azul:[195,245],blue:[195,245],indigo:[220,250],marino:[210,240],morado:[250,290],purple:[250,290],violeta:[260,280],lila:[270,300],rosa:[300,340],pink:[300,340],magenta:[290,320],fucsia:[290,310],marron:[15,35],cafe:[15,35],brown:[15,35],beige:[30,50],fuego:[0,25],lava:[0,20],calor:[0,30],infierno:[0,10],sol:[45,60],luz:[45,60],verano:[30,60],desierto:[30,50],arena:[35,50],bosque:[90,140],selva:[100,150],hoja:[80,130],planta:[90,140],jardin:[90,150],eco:[100,140],bio:[100,140],naturaleza:[90,140],campo:[80,120],mar:[190,230],oceano:[200,240],agua:[185,220],playa:[170,210],hielo:[180,200],cielo:[195,215],aire:[190,220],nube:[200,220],frio:[190,230],tierra:[20,40],madera:[25,45],piedra:[0,0],roca:[0,0],fruta:[0,60],manzana:[350,10],fresa:[340,360],cereza:[340,360],naranja_fruta:[20,40],limon:[50,65],banana:[45,60],cafe_bebida:[20,40],chocolate:[15,30],cookie:[25,40],pan:[30,45],vino:[330,350],cerveza:[40,55],miel:[40,50],menta:[140,170],vegetal:[90,140],ensalada:[80,130],amor:[340,10],pasion:[340,10],romantico:[330,350],peligro:[0,10],error:[0,10],alerta:[10,30],urgente:[0,20],alegria:[45,60],feliz:[45,65],energia:[20,50],diversion:[30,60],calma:[190,220],paz:[180,210],tranquilo:[190,230],relax:[170,200],triste:[210,240],depresion:[220,250],serio:[210,240],magia:[260,290],misterio:[270,300],fantasia:[260,300],espiritual:[250,280],lujo:[40,55],realeza:[260,280],dinero:[100,140],exito:[45,60],tech:[200,240],tecnologia:[200,250],futuro:[180,220],robot:[200,220],codigo:[210,260],app:[200,240],startup:[210,250],salud:[170,200],medico:[180,220],hospital:[170,210],farmacia:[100,140],finanzas:[210,240],banco:[210,240],negocio:[210,230],corporativo:[210,230],construccion:[25,45],industrial:[200,220],arquitectura:[200,220],moda:[300,340],belleza:[320,350],makeup:[330,10],gamer:[260,290],juego:[260,300],consola:[210,270],social:[200,220],chat:[200,230],cyberpunk:[280,320],vaporwave:[280,340],synthwave:[270,330],retro:[30,50],vintage:[25,45],antiguo:[30,50],halloween:[15,35],navidad:[350,10]},r={oscuro:{val:[10,30],sat:[40,70]},dark:{val:[10,30],sat:[40,70]},noche:{val:[5,20],sat:[50,80]},nocturno:{val:[5,20],sat:[50,80]},nocturna:{val:[5,20],sat:[50,80]},profundo:{val:[20,40],sat:[70,100]},deep:{val:[20,40],sat:[70,100]},sombra:{val:[0,20]},black:{val:[0,10]},negro:{val:[0,10]},claro:{val:[85,100],sat:[10,40]},light:{val:[85,100],sat:[10,40]},dia:{val:[90,100],sat:[40,70]},brillante:{val:[90,100]},blanco:{val:[95,100],sat:[0,5]},white:{val:[95,100],sat:[0,5]},nieve:{val:[95,100],sat:[0,10]},neon:{sat:[90,100],val:[90,100]},fluo:{sat:[90,100],val:[90,100]},vibrante:{sat:[80,100],val:[80,100]},vivo:{sat:[80,100],val:[80,100]},electrico:{sat:[90,100],val:[80,100]},intenso:{sat:[80,100]},pastel:{sat:[20,45],val:[90,100]},suave:{sat:[20,40],val:[80,95]},bebe:{sat:[10,30],val:[90,100]},dulce:{sat:[30,50],val:[90,100]},apagado:{sat:[10,30]},muted:{sat:[10,30]},gris:{sat:[0,0]},grey:{sat:[0,0]},desaturado:{sat:[0,20]},cemento:{sat:[0,5],val:[50,70]},acero:{sat:[0,10],val:[60,80]},metal:{sat:[0,15],val:[60,90]},silver:{sat:[0,5],val:[80,100]},minimalista:{sat:[0,10],val:[85,100]},clean:{sat:[0,10],val:[90,100]},elegante:{sat:[15,35],val:[15,40]},lujo:{sat:[40,60],val:[30,50]},serio:{sat:[10,30],val:[30,60]},formal:{sat:[10,30],val:[20,50]},cyberpunk:{sat:[90,100],val:[60,90]},retro:{sat:[30,60],val:[60,80]},vintage:{sat:[20,50],val:[50,70]}};function i(e,t){return Math.floor(Math.random()*(t-e+1))+e}t.AIService=class{generatePalette(e){const t=this.normalizeText(e);let n=null,s=this.randomInt(40,70),l=this.randomInt(50,90);t.split(" ").forEach(e=>{if(a[e]){const t=a[e];n=this.randomInt(t[0],t[1])}if(r[e]){const t=r[e];t.sat&&(s=this.randomInt(t.sat[0],t.sat[1])),t.val&&(l=this.randomInt(t.val[0],t.val[1]))}}),null===n&&(n=this.randomInt(0,360)),["gris","plata","acero","metal","cemento","minimalista","blanco","negro"].some(e=>t.includes(e))&&(s=Math.min(s,10));const c=new o.TinyColor({h:n,s,v:l});let d=[];const u=s>80;if(l<40)d=c.monochromatic(5).map(e=>e.toHexString());else if(u||t.includes("cyberpunk")||t.includes("gamer"))d=c.tetrad().map(e=>e.toHexString()),d.push(c.complement().toHexString());else if(t.includes("pastel")||t.includes("suave"))for(d=c.splitcomplement().map(e=>e.toHexString());d.length<5;)d.push(new o.TinyColor(d[0]).lighten(i(10,20)).toHexString());else d=c.analogous(5).map(e=>e.toHexString());return d.slice(0,5)}generateMixed(e){const t=e.filter(e=>new o.TinyColor(e).isValid);if(0===t.length)return this.generateFromHex("#000000");if(1===t.length)return this.generateFromHex(t[0]);let n=[...t];const a=new o.TinyColor(t[0]);for(;n.length<5;){const e=a.analogous(7)[n.length].toHexString();n.push(e)}return n.slice(0,5)}generateFromHex(e){const t=new o.TinyColor(e);if(!t.isValid)return["#000000","#ffffff"];let n=t.splitcomplement().map(e=>e.toHexString());for(;n.length<5;)n.push(new o.TinyColor(n[0]).lighten(i(10,30)).toHexString());return n.slice(0,5)}normalizeText(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"")}randomInt(e,t){return Math.floor(Math.random()*(t-e+1))+e}}}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o=n(265);module.exports=o})();